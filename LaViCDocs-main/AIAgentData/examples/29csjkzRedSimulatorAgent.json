[{"agentKey":"AGENTKEY_229475637607919616","agentDesc":"","entitySignature":"","agentName":"空战红方战机（模拟器）（超视距空战想定）","agentNameI18n":"空战红方战机（模拟器）（超视距空战想定）","agentPath":"","i18nLabels":[],"agentKeyword":"F35","agentUsageLabel":[],"modelUrlSlim":"asset_226795676534374400","modelUrlFat":"","modelUrlMedium":"","modelUrlPAK":"","modelUrlSymbols":[{"symbolSeries":1,"symbolName":"http://192.168.31.218:9000/lavic/a790c55c-274d-46da-9b55-242e775031e1.png","thumbnail":"http://192.168.31.218:9000/lavic/0ad79c0f-1d07-4ab4-aeae-aa9c6e60a463.png"}],"modelAbstracted":[{"abstProfileKeyword":"","abstProfileFrame":0,"abstProfileResolution":13,"abstProfileLonLat":[],"abstProfileCarteXY":[],"abstHeights":[],"abstHeightResolution":12}],"clusterComms":{"clusterOptionalPlugins":[]},"subagents":[],"freelanceable":false,"freelanceableDynamics":[],"locatable":true,"locatableDynamics":[],"navigatable":false,"navigatableDynamics":[],"missionable":true,"missionableDynamics":[{"dynPluginName":"iagnt_dynamics_custom_simple","dynKeyword":"Mission","dynAsDefault":true,"dynSettings":{"pluginName":"iagnt_dynamics_custom_simple","pluginNote":"Simple Position And Attitude Dynamics Client","pluginNoteI18n":"简单经纬高姿态动力学客端接入","pluginSignature":"dynamics_mZeDSgC74AiB2I70ewwQ","pluginDefaultSettings":"{\"freqdistPlugin\":null,\"freqdistPluginSettings\":null,\"dynSettings\":{\"initpos\":[127.7784192,26.3658094,500,0,0,0],\"serverUrl\":\"ws://192.168.31.182:12345/ws\"},\"evidences\":null,\"prejudgmentModels\":null,\"paramsfilter\":null}"}}],"operatable":true,"useIb":true,"cognitiveConfig":{"plugins":[]},"stopCond":{"stopCondType":0,"vicinityDist":1,"loopTimes":0,"isStopped":false},"agentType":"Instagent","fldmds":[{"fldmdName":"普通雷达","fldmdNameI18n":"普通雷达","i18nLabels":[{"uuid":"752B07DC-1578-7DD6-D759-F5DB87D10A04","transtgt":"fldmdNameI18n"}],"fldmdkwd":"Field normal radar","fldmdkey":"field_226805030764863490","offsetx":0.0,"offsety":0.0,"offsetz":0.0,"orient":0,"sensorFusionUnit":"sensorfusionunit_simple_target_id_fusion","sensorFusionUnitSettings":"{\n  \"pluginName\": \"sensorfusionunit_simple_target_id_fusion\",\n  \"pluginNote\": \"Simple Target ID Fusion\",\n  \"pluginNoteI18n\": \"简单目标ID融合\",\n  \"pluginSignature\": \"sensorfusionunit_7x0lAiGxu3gYd6qH2Awm\",\n  \"pluginDefaultSettings\": {\n    \"freqdistPlugin\": null,\n    \"freqdistPluginSettings\": null,\n    \"dynSettings\": null,\n    \"evidences\": null,\n    \"prejudgmentModels\": null\n  },\n  \"rscType\": 0,\n  \"pluginIndex\": 0\n}","smds":[{"mode":0,"pitch":0.0,"azimuth":0.0,"dpch":30.0,"dazm":120.0,"radius":110000.0,"gaingraph":0,"epsln":1.0E-5,"phyconf":1,"emgwpty":128.0,"sndwpty":0.0,"frqmean":0.0,"frqvarn":0.0,"frqdist":0,"frqdistcfg":null,"wavescale":0.0,"frqusage":8,"wavesndrcv":2,"silencegap":200.0,"pwr_watts":67000.0,"ppgt_mdl":0,"fldid":"field_226805030764863490","modsig":"226795895930949632","stopSensingIn":5000,"multiplier":1,"sensorCorePlugin":"sensorcluster_direct","sensorCorePluginSettings":"{\n  \"pluginName\": \"sensorcluster_direct\",\n  \"pluginNote\": \"Direct\",\n  \"pluginNoteI18n\": \"直接\",\n  \"pluginSignature\": \"sensorcluster_sy5O9DW6SZtw78mQlcxY\",\n  \"pluginDefaultSettings\": {\n    \"freqdistPlugin\": null,\n    \"freqdistPluginSettings\": null,\n    \"dynSettings\": null,\n    \"evidences\": null,\n    \"prejudgmentModels\": null\n  },\n  \"rscType\": 0,\n  \"pluginIndex\": 0\n}","wave_hgtdiff_model":0,"wave_hgtdiff_param1":0,"wave_hgtdiff_param2":0}],"passive":true},{"fldmdName":"ESM","fldmdNameI18n":"ESM","i18nLabels":[{"uuid":"752B07DC-1578-7DD6-D759-F5DB87D10A04","transtgt":"fldmdNameI18n"}],"fldmdkwd":"Field Echo normal radar","fldmdkey":"field_226805030764863491","offsetx":0.0,"offsety":0.0,"offsetz":0.0,"orient":0,"sensorFusionUnit":"sensorfusionunit_simple_target_id_fusion","sensorFusionUnitSettings":"{\n  \"pluginName\": \"sensorfusionunit_simple_target_id_fusion\",\n  \"pluginNote\": \"Simple Target ID Fusion\",\n  \"pluginNoteI18n\": \"简单目标ID融合\",\n  \"pluginSignature\": \"sensorfusionunit_7x0lAiGxu3gYd6qH2Awm\",\n  \"pluginDefaultSettings\": {\n    \"freqdistPlugin\": null,\n    \"freqdistPluginSettings\": null,\n    \"dynSettings\": null,\n    \"evidences\": null,\n    \"prejudgmentModels\": null\n  },\n  \"rscType\": 0,\n  \"pluginIndex\": 0\n}","smds":[{"mode":999,"pitch":0.0,"azimuth":0.0,"dpch":115.0,"dazm":30.0,"radius":200000.0,"gaingraph":0,"epsln":1.0E-5,"phyconf":1,"emgwpty":128.0,"sndwpty":0.0,"frqmean":0.0,"frqvarn":0.0,"frqdist":0,"frqdistcfg":null,"wavescale":0.0,"frqusage":1,"wavesndrcv":2,"silencegap":200.0,"pwr_watts":0.0,"ppgt_mdl":0,"fldid":"field_226805030764863491","modsig":"226804877702017024","stopSensingIn":5000,"multiplier":20,"sensorCorePlugin":"sensorcluster_direct","sensorCorePluginSettings":"{\n  \"pluginName\": \"sensorcluster_direct\",\n  \"pluginNote\": \"Direct\",\n  \"pluginNoteI18n\": \"直接\",\n  \"pluginSignature\": \"sensorcluster_sy5O9DW6SZtw78mQlcxY\",\n  \"pluginDefaultSettings\": {\n    \"freqdistPlugin\": null,\n    \"freqdistPluginSettings\": null,\n    \"dynSettings\": null,\n    \"evidences\": null,\n    \"prejudgmentModels\": null\n  },\n  \"rscType\": 0,\n  \"pluginIndex\": 0\n}","wave_hgtdiff_model":0,"wave_hgtdiff_param1":0,"wave_hgtdiff_param2":0}],"passive":false},{"fldmdName":"光电雷达","fldmdNameI18n":"光电雷达","i18nLabels":[{"uuid":"752B07DC-1578-7DD6-D759-F5DB87D10A04","transtgt":"fldmdNameI18n"}],"fldmdkwd":"Field Infrared","fldmdkey":"field_226795895913937348","offsetx":0.0,"offsety":0.0,"offsetz":0.0,"orient":0,"sensorFusionUnit":"sensorfusionunit_simple_target_id_fusion","sensorFusionUnitSettings":"{\n  \"pluginName\": \"sensorfusionunit_simple_target_id_fusion\",\n  \"pluginNote\": \"Simple Target ID Fusion\",\n  \"pluginNoteI18n\": \"简单目标ID融合\",\n  \"pluginSignature\": \"sensorfusionunit_7x0lAiGxu3gYd6qH2Awm\",\n  \"pluginDefaultSettings\": {\n    \"freqdistPlugin\": null,\n    \"freqdistPluginSettings\": null,\n    \"dynSettings\": null,\n    \"evidences\": null,\n    \"prejudgmentModels\": null\n  },\n  \"rscType\": 0,\n  \"pluginIndex\": 0\n}","smds":[{"mode":0,"pitch":0.0,"azimuth":0.0,"dpch":85.0,"dazm":60.0,"radius":285000.0,"gaingraph":0,"epsln":1.0E-5,"phyconf":1,"emgwpty":128.0,"sndwpty":0.0,"frqmean":0.0,"frqvarn":0.0,"frqdist":0,"frqdistcfg":null,"wavescale":0.0,"frqusage":255,"wavesndrcv":0,"silencegap":0.0,"pwr_watts":67000.0,"ppgt_mdl":0,"fldid":"field_226795895913937348","modsig":"226795895930949638","stopSensingIn":5000,"multiplier":1,"sensorCorePlugin":"sensorcluster_direct","sensorCorePluginSettings":"{\n  \"pluginDefaultSettings\": {\n    \"freqdistPlugin\": null,\n    \"freqdistPluginSettings\": null,\n    \"dynSettings\": null,\n    \"evidences\": null,\n    \"prejudgmentModels\": null,\n    \"paramsfilter\": null\n  },\n  \"pluginIndex\": 0,\n  \"pluginName\": \"sensorcluster_direct\",\n  \"pluginNote\": \"Direct\",\n  \"pluginNoteI18n\": \"直接\",\n  \"pluginSignature\": \"sensorcluster_sy5O9DW6SZtw78mQlcxY\",\n  \"rscType\": 0\n}","wave_hgtdiff_model":0,"wave_hgtdiff_param1":0,"wave_hgtdiff_param2":0}],"passive":false},{"fldmdName":"光电雷达回波","fldmdNameI18n":"光电雷达回波","i18nLabels":[{"uuid":"752B07DC-1578-7DD6-D759-F5DB87D10A04","transtgt":"fldmdNameI18n"}],"fldmdkwd":"Field Echo Infrared","fldmdkey":"field_226804877702996576","offsetx":0.0,"offsety":0.0,"offsetz":0.0,"orient":0,"sensorFusionUnit":"","sensorFusionUnitSettings":"","smds":[{"mode":999,"pitch":0.0,"azimuth":0.0,"dpch":115.0,"dazm":60.0,"radius":110000.0,"gaingraph":0,"epsln":1.0E-5,"phyconf":1,"emgwpty":128.0,"sndwpty":0.0,"frqmean":0.0,"frqvarn":0.0,"frqdist":0,"frqdistcfg":null,"wavescale":0.0,"frqusage":1,"wavesndrcv":0,"silencegap":0.0,"pwr_watts":0.0,"ppgt_mdl":0,"fldid":"field_226804877702996576","modsig":"226804877702717024","stopSensingIn":5000,"multiplier":5,"sensorCorePlugin":"sensorcluster_direct","sensorCorePluginSettings":"{\n  \"pluginName\": \"sensorcluster_direct\",\n  \"pluginNote\": \"Direct\",\n  \"pluginNoteI18n\": \"直接\",\n  \"pluginSignature\": \"sensorcluster_sy5O9DW6SZtw78mQlcxY\",\n  \"pluginDefaultSettings\": {\n    \"freqdistPlugin\": null,\n    \"freqdistPluginSettings\": null,\n    \"dynSettings\": null,\n    \"evidences\": null,\n    \"prejudgmentModels\": null\n  },\n  \"rscType\": 0,\n  \"pluginIndex\": 0\n}","wave_hgtdiff_model":0,"wave_hgtdiff_param1":0,"wave_hgtdiff_param2":0}],"passive":false},{"fldmdName":"高增益雷达（主动）","fldmdNameI18n":"高增益雷达","i18nLabels":[{"uuid":"752B07DC-1578-7DD6-D759-F5DB87D10A04","transtgt":"fldmdNameI18n"}],"fldmdkwd":"HGESM","fldmdkey":"field_228161505807568898","offsetx":0.0,"offsety":0.0,"offsetz":0.0,"orient":0,"sensorFusionUnit":"sensorfusionunit_simple_target_id_fusion","sensorFusionUnitSettings":"{\n  \"pluginDefaultSettings\": {\n    \"freqdistPlugin\": null,\n    \"freqdistPluginSettings\": null,\n    \"dynSettings\": null,\n    \"evidences\": null,\n    \"prejudgmentModels\": null,\n    \"paramsfilter\": null\n  },\n  \"pluginIndex\": 0,\n  \"pluginName\": \"sensorfusionunit_simple_target_id_fusion\",\n  \"pluginNote\": \"Simple Target ID Fusion\",\n  \"pluginNoteI18n\": \"简单目标ID融合\",\n  \"pluginSignature\": \"sensorfusionunit_7x0lAiGxu3gYd6qH2Awm\",\n  \"rscType\": 0\n}","smds":[{"mode":0,"pitch":0.0,"azimuth":0.0,"dpch":30.0,"dazm":120.0,"radius":210000.0,"gaingraph":0,"epsln":1.0E-5,"phyconf":1,"emgwpty":0.0,"sndwpty":0.0,"frqmean":1000.0,"frqvarn":20.0,"frqdist":0,"frqdistcfg":"","wavescale":0.0,"frqusage":8,"wavesndrcv":0,"silencegap":200.0,"pwr_watts":0.0,"ppgt_mdl":0,"fldid":"field_228161505807568898","modsig":"228161505807618048","stopSensingIn":5000,"multiplier":1,"sensorCorePlugin":"sensorcluster_direct","sensorCorePluginSettings":"{\n  \"pluginDefaultSettings\": {\n    \"freqdistPlugin\": null,\n    \"freqdistPluginSettings\": null,\n    \"dynSettings\": null,\n    \"evidences\": null,\n    \"prejudgmentModels\": null,\n    \"paramsfilter\": null\n  },\n  \"pluginIndex\": 0,\n  \"pluginName\": \"sensorcluster_direct\",\n  \"pluginNote\": \"Direct\",\n  \"pluginNoteI18n\": \"直接\",\n  \"pluginSignature\": \"sensorcluster_sy5O9DW6SZtw78mQlcxY\",\n  \"rscType\": 0\n}","wave_hgtdiff_model":0,"wave_hgtdiff_param1":0,"wave_hgtdiff_param2":0}],"passive":false}],"waypoints":[{"wpsKey":"226805030764863492","wpsUsage":"","wpsKeyword":"mq9","wpsFrame":0,"wps":[{"wpsCore":[117.2860767,22.8311831,200.0,1.0,0.0],"useExt":0,"speed":0.0,"roll":0.0,"pitch":0.0,"yaw":0.0,"yawEx":0.0},{"wpsCore":[118.2012,22.5867996,200.0,1.0,10.0],"useExt":0,"speed":0.0,"roll":0.0,"pitch":0.0,"yaw":0.0,"yawEx":0.0}],"wpsGenPOIs":[],"wpsPathPlanner":"","wpsGenFences":[],"wpsGenTimeConsumed":0,"wpsTalk":[]}],"pois":[],"fences":[],"vardefs":[{"varKeyword":"targetids","varName":"targetids","varSig":"targetids","varNameI18n":"targetids","i18nLabels":[{"uuid":"","transtgt":""}],"varType":"Strings","stdCode":"Strings","varSchema":{},"varDefault":[],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":0,"varUnit":null},{"varKeyword":"targetlocation","varName":"targetlocation","varSig":"targetlocation","varNameI18n":"targetlocation","i18nLabels":[{"uuid":"","transtgt":""}],"varType":"Location","stdCode":"Strings","varSchema":{},"varDefault":["0","0","0","1","0"],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":1,"varUnit":null},{"varKeyword":"Navigatable","varName":"Navigatable","varSig":"Navigatable","varNameI18n":"Navigatable","i18nLabels":[{"uuid":"","transtgt":""}],"varType":"Location","stdCode":"Strings","varSchema":{},"varDefault":["0","0","0","1","0"],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":2,"varUnit":null},{"varKeyword":"neighbors","varName":"neighbors","varSig":"neighbors","varNameI18n":"neighbors","i18nLabels":[{"uuid":"","transtgt":""}],"varType":"Strings","stdCode":"Strings","varSchema":{},"varDefault":[],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":3,"varUnit":null},{"varKeyword":"handleagentids","varName":"handleagentids","varSig":"handleagentids","varNameI18n":"handleagentids","i18nLabels":[{"uuid":"","transtgt":""}],"varType":"Strings","stdCode":"Strings","varSchema":{},"varDefault":[],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":4,"varUnit":null},{"varKeyword":"windfield","varName":"windfield","varSig":"windfield","varNameI18n":"风场插件","i18nLabels":[{"uuid":"","transtgt":""}],"varType":"Strings","stdCode":"","varSchema":{},"varDefault":[],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":5,"varUnit":null},{"varKeyword":"InfraredAngle","varName":"InfraredAngle","varSig":"InfraredAngle","varNameI18n":"红外场探测角度","i18nLabels":[],"varType":"Number","stdCode":"Strings","varSchema":{},"varDefault":["60"],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":0,"varUnit":null},{"varKeyword":"InfraredBaseDistance","varName":"InfraredBaseDistance","varSig":"InfraredBaseDistance","varNameI18n":"红外场探测基础距离","i18nLabels":[],"varType":"Number","stdCode":"Strings","varSchema":{},"varDefault":["60000"],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":0,"varUnit":null},{"varKeyword":"InfraredRangeDistance","varName":"InfraredRangeDistance","varSig":"InfraredRangeDistance","varNameI18n":"红外场探测变化范围距离","i18nLabels":[],"varType":"Number","stdCode":"Strings","varSchema":{},"varDefault":["20000"],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":0,"varUnit":null},{"varKeyword":"Type","varName":"设备类型","varSig":"Type","varNameI18n":"设备类型","i18nLabels":[{"uuid":"","transtgt":""}],"varType":"Number","stdCode":"Strings","varSchema":{},"varDefault":["1"],"access":0,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":9,"varUnit":""}],"varpool":[{"varSig":"targetids","varData":[]},{"varSig":"targetlocation","varData":["0","0","0","1","0"]},{"varSig":"Navigatable","varData":["0","0","0","1","0"]},{"varSig":"neighbors","varData":[]},{"varSig":"handleagentids","varData":[]},{"varSig":"windfield","varData":[]},{"varSig":"InfraredAngle","varData":["60"]},{"varSig":"InfraredBaseDistance","varData":["60000"]},{"varSig":"InfraredRangeDistance","varData":["20000"]},{"varSig":"Type","varData":["1"]}],"axns":[{"scriptId":"action_226805030764863499","axnKeyword":"UpdateTargets","axnName":"UpdateTargets","axnNameI18n":"UpdateTargets","i18nLabels":[],"axnIcon":"","vardefs":[],"scriptLang":0,"axnVersion":1,"axnActivated":true,"axnRunningPlan":500,"axnAsync":false,"axnRunningConds":["return true;"],"axnScript":["Agent.targets_update();"],"axnViewDetails":[{"axnViewName":"","axnViewKeyword":""}],"scriptTalk":[],"actionTypeOODA":"","axnDesc":null,"access":0},{"scriptId":"action_226805030764863501","axnKeyword":"UpdateNeighbors","axnName":"UpdateNeighbors","axnNameI18n":"UpdateNeighbors","i18nLabels":[],"axnIcon":"","vardefs":[],"scriptLang":0,"axnVersion":1,"axnActivated":true,"axnRunningPlan":3000,"axnAsync":false,"axnRunningConds":["return true;"],"axnScript":["//更新该实体发现的临近实体到自定义参数中","Agent.neighbors_update();"],"axnViewDetails":[{"axnViewName":"","axnViewKeyword":""}],"scriptTalk":[],"actionTypeOODA":"","axnDesc":null,"access":0},{"scriptId":"action_226805030764863503","axnKeyword":"TargetAllocFollow","axnName":"TargetAllocFollow","axnNameI18n":"TargetAllocFollow","i18nLabels":[],"axnIcon":"","vardefs":[{"varKeyword":"TargetHandle","varName":"TargetHandle","varSig":"TargetHandle","varNameI18n":"TargetHandle","i18nLabels":[],"varType":"String","stdCode":"","varSchema":{},"varDefault":[],"access":1,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":0,"varUnit":null},{"varKeyword":"FollowHandle","varName":"FollowHandle","varSig":"FollowHandle","varNameI18n":"FollowHandle","i18nLabels":[],"varType":"String","stdCode":"","varSchema":{},"varDefault":[],"access":1,"varDecorator":"","varDecoratorSettings":{},"varIndexCode":0,"varUnit":null}],"scriptLang":0,"axnVersion":1,"axnActivated":true,"axnRunningPlan":0,"axnAsync":false,"axnRunningConds":["return true;"],"axnScript":["Agent.targets_update();","Agent.targets_append_handler(TargetHandle,FollowHandle);"],"axnViewDetails":[{"axnViewName":"","axnViewKeyword":""}],"scriptTalk":[],"actionTypeOODA":"","axnDesc":null,"access":0},{"scriptId":"action_226805030764863506","axnKeyword":"LifeSpanInvalidStopStepClearRes","axnName":"LifeSpanInvalidStopStepClearRes","axnNameI18n":"LifeSpanInvalidStopStepClearRes","i18nLabels":[],"axnIcon":"","vardefs":[],"scriptLang":0,"axnVersion":1,"axnActivated":true,"axnRunningPlan":0,"axnAsync":false,"axnRunningConds":["return true;"],"axnScript":["//设置实体的生命周期状态为停止位置迭代，并清理资源","Agent.action_do(\"Recycle\",10000);"],"axnViewDetails":[{"axnViewName":"","axnViewKeyword":""}],"scriptTalk":[],"actionTypeOODA":"LifeEnd","axnDesc":null,"access":0},{"scriptId":"action_228889542701563904","axnKeyword":"Recycle","axnName":"Recycle","axnNameI18n":"回收资源","i18nLabels":[],"axnIcon":"","vardefs":[],"scriptLang":0,"axnVersion":1,"axnActivated":true,"axnRunningPlan":0,"axnAsync":false,"axnRunningConds":["return true;"],"axnScript":["//设置实体的生命周期状态为停止位置迭代，并清理资源","Agent._recycle();",""],"axnViewDetails":[{"axnViewName":"","axnViewKeyword":""}],"scriptTalk":[],"actionTypeOODA":"","axnDesc":null,"access":0},{"scriptId":"action_226805030764863500","axnKeyword":"GuideTargets","axnName":"GuideTargets","axnNameI18n":"GuideTargets","i18nLabels":[],"axnIcon":"","vardefs":[],"scriptLang":0,"axnVersion":1,"axnActivated":true,"axnRunningPlan":500,"axnAsync":false,"axnRunningConds":["return true;"],"axnScript":["var loophandleagentids = fun(handlers_,targetid_,vrtlocation_){","    var sendprotocol=fun(handleagentid,vrtlocation_){","        var cmmstkUsage = \"General\";","        var engineKeyedName = \"FRAME_red_general_protocol__R1IDL\";","        var frameHexTxt = \"fe3e1900000100000000000000000000000000000000000912\";","        var param_names = Strings([\"PARAM_lon\",\"PARAM_lat\",\"PARAM_hgt\",\"PARAM_ref\",\"PARAM_time\"]);","        var param_values = Ids([vrtlocation_.lon*10000000, ","                                            vrtlocation_.lat*10000000, ","                                            vrtlocation_.hgt*1000, ","                                            vrtlocation_.ref,","                                            vrtlocation_.sim_timestamp]);","        //print(param_values);","        frame_set(frameHexTxt, engineKeyedName, param_names, param_values);","        Agent.comm_publish(handleagentid,cmmstkUsage,engineKeyedName,frameHexTxt); ","    };","","   var it2 = handlers_.begin();","   while(it2 != handlers_.end())","   {","       var handleagentid = deref(it2).first;","       var agent = system_other_agent(handleagentid);","       if(system_exists(agent)){","           agent.variables[\"targetid\"]=to_string(targetid_);","           //print(agent.variables[\"targetid\"].get());","       }","       sendprotocol(handleagentid,vrtlocation_);","       ++(it2);","   }","};","var it = Agent.targets.begin();","while(it != Agent.targets.end())","{","    var targetid = deref(it).first;","    var handlers = deref(it).second;","    var vrtlocation = Agent.targets_location(targetid);","    //print(targetid);","    //print(handlers);","    //print(vrtlocation);","    loophandleagentids(handlers,targetid,vrtlocation);","    ++(it);","}",""],"axnViewDetails":[{"axnViewName":"","axnViewKeyword":""}],"scriptTalk":[],"actionTypeOODA":"","axnDesc":null,"access":0},{"scriptId":"action_226805030764863502","axnKeyword":"IffTargets","axnName":"IffTargets","axnNameI18n":"IffTargets","i18nLabels":[],"axnIcon":"","vardefs":[],"scriptLang":0,"axnVersion":1,"axnActivated":true,"axnRunningPlan":500,"axnAsync":false,"axnRunningConds":["return true;"],"axnScript":["var commstacksend= fun(neighborid_){","var cmmstkUsage = \"Iff_request\";","var engineKeyedName = \"IFF_REQUEST\";","var frameHexTxt = \"fe3e1900000100000000000000000000000000000000000912\";","Agent.comm_publish(neighborid_,cmmstkUsage,engineKeyedName,frameHexTxt);","}","var it = Agent.neighbors.begin();","while(it != Agent.neighbors.end())","{","    var neighborid = deref(it).first;","    commstacksend(neighborid);","    ++(it);","}"],"axnViewDetails":[{"axnViewName":"","axnViewKeyword":""}],"scriptTalk":[],"actionTypeOODA":"","axnDesc":null,"access":0}],"tsmarks":[],"agentJetdsCodes":[{"agentJetdsCodeSig":"agntjetds_226795826887974913","agentJetdsCode":"SWE","agentJetdsCodeEx":"","relatedActions":["UpdateTargets","GuideTargets","UpdateNeighbors","IffTargets","TargetAllocFollow"]}],"oodas":[{"scriptId":"ooda_226805030764863508","oodaName":"生命周期停止","oodaNameI18n":"生命周期停止","scriptLang":0,"oodaVersion":1,"oodaActivated":true,"oodaUsageFilter":9,"oodaScript":["    //设置实体的生命周期状态为停止位置迭代","    Agent._stop();","    //触发实体清理资源动作","    Agent.action_do(\"LifeSpanInvalidStopStepClearRes\",5000);"],"scriptTalk":[],"oodaDesc":null},{"scriptId":"ooda_226804992633006132","oodaName":null,"oodaNameI18n":"","scriptLang":0,"oodaVersion":1,"oodaActivated":false,"oodaUsageFilter":255,"oodaScript":["//光电雷达","//排除自身感知域发现自身实体","if(Agent.event.aid == Agent.event.self_id)","{","    return;","}","if(Agent.event.a_iffcode == Agent.event.self_iffcode)","{","    return;","}","var agent_a = system_other_agent(Agent.event.aid);","if(!system_exists(agent_a)){","   return;","}","var agent_b = system_other_agent(Agent.event.bid);","if(!system_exists(agent_b)){","   return;","}","var InfraredAngle = agent_a.variables[\"InfraredAngle\"].get();","var InfraredBaseDistance = agent_a.variables[\"InfraredBaseDistance\"].get();","var InfraredRangeDistance = agent_a.variables[\"InfraredRangeDistance\"].get();","//获取b的方位角","var b_attitude = agent_b._attitude();","//获取a的方位角","var a_attitude = agent_a._attitude();","//计算b的位置","var b_position = agent_b._position();","//计算a的位置","var a_position = agent_a._position();","//计算a到b的方位角","var lon_1 = DegreesToRadians(a_position.lon);","var lat_1 = DegreesToRadians(a_position.lat);","var lon_2 = DegreesToRadians(b_position.lon);","var lat_2 = DegreesToRadians(b_position.lat);","var d_lon = lon_2 - lon_1;","var y = sin(d_lon) * cos(lat_2);","var x = cos(lat_1) * sin(lat_2) - sin(lat_1) * cos(lat_2) * cos(d_lon);","var theta = atan2(y, x);","var bearing = (RadiansToDegrees(theta) + 360) % 360;","//判断a到b的方位角是否在a的方向方位角的±30度范围内","if(bearing <= a_attitude.azimuth-InfraredAngle/2 || bearing >= a_attitude.azimuth+InfraredAngle/2)","{","  return ;","}","//计算a-b的方位角插值的绝对值【0-180】","var azimuth_diff = a_attitude.azimuth - b_attitude.azimuth;","var azimuth_diff_abs = abs(azimuth_diff);","if(azimuth_diff_abs > 180)","{","  azimuth_diff_abs = 360 - azimuth_diff_abs;","}","var azimuth_diff_abs_radians = DegreesToRadians(azimuth_diff_abs);","var azimuth_coeff = cos(azimuth_diff_abs_radians);","//依据角度，计算发现距离 0即为a和b方向相同【cos(0) == 1】，即b的发动机完全正对a，发现距离最大，180即为a和b方向相反【cos(180) == -1】，发动机完全背对a，发现距离最小","var dis = InfraredBaseDistance + azimuth_coeff * InfraredRangeDistance;","//var dbginfo = \"fbb_bid: \"+to_string(Agent.event.bid)+\" azimuth_diff_abs: \"+to_string(azimuth_diff_abs)+\" calc dis: \"+to_string(dis)+\" bearing: \"+to_string(bearing)+\" a_azimuth: \"+to_string(a_attitude.azimuth)+\" b_azimuth: \"+to_string(b_attitude.azimuth);","var fldkey = \"field_226804877702996576\";","//回波对应的位置","var location = Location(Agent.event.alon,Agent.event.alat,Agent.event.ahgt,Agent.event.aref,0);","//检查是否存在对应指纹的回波","var hasModSig = Agent.smd_exists(Agent.event.modsig);","if (!hasModSig) ","{","    //不存在情况下，感知域发现事件或更新事件","    if (Agent.event.event_type == E_EVENT_MODE_ADD || Agent.event.event_type == E_EVENT_MODE_UPDATE) ","    {","        //使用指定的回波感知域，生成对应指纹的回波","        var ret = Agent.smd_create(fldkey, Agent.event.modsig, E_FMD_WKMD_REFLECTION_);","        if(ret != 0)","        {","            //调整回波的指向反向及距离","            Agent.smd_orient(Agent.event.modsig, location, dis, E_FMD_WKMD_REFLECTION_);","        }","    }","} ","else ","{","    if (Agent.event.event_type == E_EVENT_MODE_ADD) ","    {","        //使用指定的回波感知域，生成对应指纹的回波","        var ret = Agent.smd_create(fldkey, Agent.event.modsig, E_FMD_WKMD_REFLECTION_);","        if(ret != 0)","        {","            //调整回波的指向反向及距离","            Agent.smd_orient(Agent.event.modsig, location, dis, E_FMD_WKMD_REFLECTION_);","        }","    }","    else if (Agent.event.event_type == E_EVENT_MODE_UPDATE) ","    {","        //调整回波的指向反向及距离","        Agent.smd_orient(Agent.event.modsig, location, dis, E_FMD_WKMD_REFLECTION_);","    }","    else if (Agent.event.event_type == E_EVENT_MODE_REMOVE) ","    {                ","        //回收回波","        Agent.smd_set_status(Agent.event.modsig, E_SMD_CTRL_OPTION_RECYCLE);","    }","}",""],"scriptTalk":[],"oodaDesc":null},{"scriptId":"ooda_228176345050603520","oodaName":null,"oodaNameI18n":"","scriptLang":0,"oodaVersion":1,"oodaActivated":false,"oodaUsageFilter":1,"oodaScript":[" //光电雷达","//排除自身感知域发现自身实体","if(Agent.event.aid == Agent.event.self_id)","{","    return;","}","if(Agent.event.a_iffcode == Agent.event.self_iffcode)","{","    return;","}","var agent_b = system_other_agent(Agent.event.bid);","if(!system_exists(agent_b)){","   return;","}","if (Agent.event.event_type == E_EVENT_MODE_ADD || Agent.event.event_type == E_EVENT_MODE_UPDATE) ","{","   var mode=0;","   var message_code=4;","   //计算b的位置","   var b_position = agent_b._position();","   var params=Strings([\"Lon\",\"Lat\",\"Alt\",\"fbb_bid\"]);","   var vals=Numbers([b_position.lon,b_position.lat,b_position.hgt,0.0]);","   Agent.utils_forward(message_code, mode, params, vals);","}"],"scriptTalk":[],"oodaDesc":null},{"scriptId":"ooda_228161389956829184","oodaName":null,"oodaNameI18n":"","scriptLang":0,"oodaVersion":1,"oodaActivated":true,"oodaUsageFilter":8,"oodaScript":[" //ESM fbb_aid 普通雷达发射者 fbb_bid 自己","if(Agent.event.aid == Agent.event.self_id)","{","    return;","}","var agent_a = system_other_agent(Agent.event.aid);","if(!system_exists(agent_a)){","   return;","}","if(Agent.event.a_iffcode == Agent.event.self_iffcode)","{","    return;","}","//指定回波感知域","var fldkey = \"field_226805030764863491\";","//回波对应的位置","var location = Location(Agent.event.alon,Agent.event.alat,Agent.event.ahgt,Agent.event.aref,0);","//检查是否存在对应指纹的回波","var hasModSig = Agent.smd_exists(Agent.event.modsig);","if (!hasModSig) ","{","    //不存在情况下，感知域发现事件或更新事件","    if (Agent.event.event_type == E_EVENT_MODE_ADD || Agent.event.event_type == E_EVENT_MODE_UPDATE) ","    {","        //使用指定的回波感知域，生成对应指纹的回波","        var ret = Agent.smd_create(fldkey, Agent.event.modsig, E_FMD_WKMD_REFLECTION_);","        if(ret != 0)","        {","            //调整回波的指向反向及距离","            Agent.smd_orient(Agent.event.modsig, location, Agent.event.abdist, E_FMD_WKMD_REFLECTION_);","        }","    }","} ","else ","{","    if (Agent.event.event_type == E_EVENT_MODE_ADD) ","    {","        //使用指定的回波感知域，生成对应指纹的回波","        var ret = Agent.smd_create(fldkey, Agent.event.modsig, E_FMD_WKMD_REFLECTION_);","        if(ret != 0)","        {","            //调整回波的指向反向及距离","            Agent.smd_orient(Agent.event.modsig, location, Agent.event.abdist, E_FMD_WKMD_REFLECTION_);","        }","    }","    else if (Agent.event.event_type == E_EVENT_MODE_UPDATE) ","    {","        //调整回波的指向反向及距离","        Agent.smd_orient(Agent.event.modsig, location, Agent.event.abdist, E_FMD_WKMD_REFLECTION_);","    }","    else if (Agent.event.event_type == E_EVENT_MODE_REMOVE) ","    {                ","        //回收回波","        Agent.smd_set_status(Agent.event.modsig, E_SMD_CTRL_OPTION_RECYCLE);","    }","}","if (Agent.event.event_type == E_EVENT_MODE_ADD || Agent.event.event_type == E_EVENT_MODE_UPDATE) ","{","   var mode=0;","   //被动雷达消息码是2","   var message_code=2;","   //获取是否是导弹","   var Type = agent_a.variables[\"Type\"].get();","   if(Type == 0)","   {","       message_code=3;","   }","   var params = Strings([\"Azimuth\",\"fbb_aid\"]);","   var a_attitude = agent_a._attitude();","   var vals = Numbers([a_attitude.azimuth,0.0]);","   Agent.utils_forward(message_code, mode, params, vals);","}","//返回HGESM雷达探测到的信息","if (Agent.event.event_type == E_EVENT_MODE_ADD || Agent.event.event_type == E_EVENT_MODE_UPDATE)","{","   var mode = 0;","   //HGESM雷达被探测消息码7,","   var message_code = 7;","   var params = Strings([\"Lon\",\"Lat\",\"Alt\",\"Pitch\",\"Azimuth\",\"fbb_aid\"]);","   var a_attitude = agent_a._attitude();","   var vals = Numbers([Agent.event.alon, Agent.event.alat, Agent.event.ahgt, a_attitude.pitch, a_attitude.azimuth, 0.0]);","   Agent.utils_forward(message_code, mode, params, vals);","}"],"scriptTalk":[],"oodaDesc":null},{"scriptId":"ooda_228161407162388480","oodaName":null,"oodaNameI18n":"","scriptLang":0,"oodaVersion":1,"oodaActivated":false,"oodaUsageFilter":8,"oodaScript":["//HGGESM fbb_aid 自己  fbb_bid 目标 处理自己发现目标设置一个状态","if(Agent.event.aid != Agent.event.self_id)//处理的感知域不是自己的就排除","{","  return;","}","if(Agent.event.a_iffcode != Agent.event.self_iffcode)//处理的感知域必须是同阵营","{","  return;","}","if(Agent.event.bid == Agent.event.self_id)//排除自己的感知域发现自己","{","  return;","}","var agent_b = system_other_agent(Agent.event.bid);","if(!system_exists(agent_b)){","   return;","}","var Type = agent_b.variables[\"Type\"].get();","//获取b的位置","var b_position = agent_b._position();","if(Agent.event.self_iffcode == Agent.event.b_iffcode)//其他阵营不处理","{","   if (Type==0) ","   {","       if (Agent.event.event_type == E_EVENT_MODE_ADD || Agent.event.event_type == E_EVENT_MODE_UPDATE)","       {","           var mode = 0;","           var message_code = 6; ","           var params = Strings([\"Lon\",\"Lat\",\"Alt\",\"fbb_bid\"]);","           var vals = Numbers([b_position.lon,b_position.lat,b_position.hgt,0.0]);","           Agent.utils_forward(message_code, mode, params, vals);","       }","   }","}","else","{","   if (Type==0)","   {","       return;","   }","   var EventType=1.0;","   //返回主动雷达探测到的信息","   if (Agent.event.event_type == E_EVENT_MODE_ADD || Agent.event.event_type == E_EVENT_MODE_UPDATE)","   {","       EventType = 1.0;","   }","   else if (fbb_event_type == FMD_EVENT_TYPE_REMOVE_ ) ","   {","       EventType = 0.0;","   }","   var mode = 0;","   //HGESM消息码是5,","   var message_code=5;","   //获取b的方位角","   var b_attitude = agent_b._attitude();","   var params = Strings([\"Lon\",\"Lat\",\"Alt\",\"Pitch\",\"Azimuth\",\"EventType\",\"fbb_bid\"]);","   var vals = Numbers([b_position.lon,b_position.lat,b_position.hgt,b_attitude.pitch,b_attitude.azimuth,EventType,0.0]);","   Agent.utils_forward(message_code, mode, params, vals);","}"],"scriptTalk":[],"oodaDesc":null},{"scriptId":"ooda_226805030764863509","oodaName":"Active_Radar","oodaNameI18n":"主动雷达","scriptLang":0,"oodaVersion":1,"oodaActivated":true,"oodaUsageFilter":8,"oodaScript":["//主动雷达 fbb_aid 自己  fbb_bid 目标","if(Agent.event.aid != Agent.event.self_id)//处理的感知域不是自己的就排除","{","  return;","}","if(Agent.event.a_iffcode != Agent.event.self_iffcode)//处理的感知域必须是同阵营","{","  return;","}","if(Agent.event.bid == Agent.event.self_id)//排除自己的感知域发现自己","{","  return;","}","var agent_b = system_other_agent(Agent.event.bid);","if(!system_exists(agent_b)){","   return;","}","var Type = agent_b.variables[\"Type\"].get();","if(Agent.event.self_iffcode == Agent.event.b_iffcode)//其他阵营不处理","{","   if (Type!=0) ","   {","       return;","   }","}","//返回主动雷达探测到的信息","if (Agent.event.event_type == E_EVENT_MODE_ADD || Agent.event.event_type == E_EVENT_MODE_UPDATE)","{","   var mode = 0;","   //主动雷达消息码是1,","   var message_code=1;","   if (Type==0) ","   {","       if (Agent.event.self_iffcode == Agent.event.b_iffcode) ","       {","           message_code=6;","       }","       else","       {","           return;","       }","   }","   //获取b的位置","   var b_position = agent_b._position();","   var params = Strings([\"Lon\",\"Lat\",\"Alt\",\"fbb_bid\"]);","   var vals = Numbers([b_position.lon,b_position.lat,b_position.hgt,0.0]);","   Agent.utils_forward(message_code, mode, params, vals);","}"],"scriptTalk":[],"oodaDesc":null}],"bts":[],"commStackConfig":{"refFrameEnginesSummary":[],"commStacks":[{"commStackKey":"cs_226805030764863510","physics":{"emgwpty":128.0,"sndwpty":0.0,"frqmean":0.0,"frqvarn":0.0,"frqdist":0,"wavescale":0.0,"frqusage":8,"wavesndrcv":2,"silencegap":0.0,"pwr_watts":0.0,"ppgt_mdl":0},"phyconf":1,"espionage":false,"usage":"General","refFrameMappings":[{"refFrameEngine":"FRAME_red_general_protocol__R1IDL","refFrameMsgkey":"0001","mappings":[{"varKeyword":"targetlocation","frameParamName":"PARAM_lon","varArrayIndex":0},{"varKeyword":"targetlocation","frameParamName":"PARAM_lat","varArrayIndex":1},{"varKeyword":"targetlocation","frameParamName":"PARAM_hgt","varArrayIndex":2},{"varKeyword":"targetlocation","frameParamName":"PARAM_ref","varArrayIndex":3},{"varKeyword":"targetlocation","frameParamName":"PARAM_time","varArrayIndex":4},{"varKeyword":"Navigatable","frameParamName":"PARAM_lon","varArrayIndex":0},{"varKeyword":"Navigatable","frameParamName":"PARAM_lat","varArrayIndex":1},{"varKeyword":"Navigatable","frameParamName":"PARAM_hgt","varArrayIndex":2},{"varKeyword":"Navigatable","frameParamName":"PARAM_ref","varArrayIndex":3},{"varKeyword":"Navigatable","frameParamName":"PARAM_time","varArrayIndex":4}]}],"bindActions":[{"actionTriggerFrameEngine":"FRAME_red_general_protocol__R1IDL","actionTriggerMsgkey":"0001","actionTriggerCondition":"","actionKeyword":"some-action-keyword"}],"comStackLayers":[{"layerSignature":"plugin_226805030764863511","pluginName":"cmmstk1dlk_codec_modem_default","pluginSettings":""}],"layerMetrics":{}},{"commStackKey":"cs_226805030764863516","physics":{"emgwpty":128.0,"sndwpty":0.0,"frqmean":0.0,"frqvarn":0.0,"frqdist":0,"wavescale":0.0,"frqusage":8,"wavesndrcv":2,"silencegap":0.0,"pwr_watts":0.0,"ppgt_mdl":0},"phyconf":1,"espionage":false,"usage":"Iff_request","refFrameMappings":[],"bindActions":[],"comStackLayers":[],"layerMetrics":{}},{"commStackKey":"cs_226805030764863522","physics":{"emgwpty":128.0,"sndwpty":0.0,"frqmean":0.0,"frqvarn":0.0,"frqdist":0,"wavescale":0.0,"frqusage":8,"wavesndrcv":2,"silencegap":0.0,"pwr_watts":0.0,"ppgt_mdl":0},"phyconf":1,"espionage":false,"usage":"Iff_response","refFrameMappings":[],"bindActions":[],"comStackLayers":[],"layerMetrics":{}}]},"agentCamp":"camp_227416399215669248","agentCampName":"红方","doctrines":[{"doctKeyword":"TargetAssignment","doctName":"Target Assignment","doctNameI18n":"目标分配","i18n":{},"doctSignature":"doctsig_226805030764863528","doctOwnerAgentId":"229475637610016789","doctActions":[{"handlingAgentFileters":["AND"],"handlingAgentSelectorVer":"1.0","repeatStatus":"period","handlingAgentSelector":["RandomAvailableSelect"],"handlingAgentActions":[{"haaSig":"haa_226796161328013313","subject":"$$Self","keyword":"TargetAllocFollow","timeOffset":0,"inputVar":"{\"TargetHandle\":\"$$TargetFusionId\",\"FollowHandle\":\"$$SelectedAgentId\"}"},{"haaSig":"haa_226796161328013314","subject":"$$SelectedAgentId","keyword":"Launch","timeOffset":50,"inputVar":"{\"LaunchWpk\":\"LaunchingWpk\",\"TargetLoc_lon\":$$TargetFusionLocation_lon,\"TargetLoc_lat\":$$TargetFusionLocation_lat,\"TargetLoc_hgt\":$$TargetFusionLocation_hgt,\"TargetLoc_ref\":$$TargetFusionLocation_ref,\"TargetLoc_simtime\":$$TargetFusionLocation_simtime}"}]}],"doctTargetCgntvEMSigFeats":["*"],"doctTargetCgntvSWSigFeats":["*"],"doctTargetCgntvIFFs":["THREAT"],"doctTimeCondition":["IMMED"],"doctRangeCondition":{"rangeLowerLimit":50000.0,"rangeHigherLimit":80000.0,"rangeExpression":"range < 80000.0 and range > 50000.0"}}],"ncycles":8,"evalIndexes":[],"audit":{"createdById":"229023529002975232","createdBy":"LaViC管理员(Admin)","createdOn":"2025-07-14 11:36:53","updatedOn":"2025-09-02 10:51:45","updatedBy":"LaViC管理员(Admin)","updatedById":"229023529002975232","startTime":"2025-07-14 11:36:53","startBy":null,"startById":null,"stopTime":null,"stopBy":null,"stopById":null},"isDelete":false,"order":1741154661996,"agentCoreFunc":null,"agentCommonlyUsed":[],"agentUsage":null,"agentVideoUrl":null,"relatedSimulation":[],"useCount":1,"agentTag":0,"smdComponentKey":[],"model":{"sourceAgentKey":"","sig":"asset_229240594145423400","description":null,"modelName":"空战红方战机（模拟器）（超视距空战想定）","icon":null,"thumbnail":{"url":"空战红方战机（模拟器）（超视距空战想定）/0ad79c0f-1d07-4ab4-aeae-aa9c6e60a463.png","selected":false,"mutexType":null,"fileSize":null,"bucket":"lavic","ossSig":"0ad79c0f-1d07-4ab4-aeae-aa9c6e60a463.png"},"introduction":"","abilityDescription":null,"mapIconType":null,"mapIconUrl":{"url":"空战红方战机（模拟器）（超视距空战想定）/a790c55c-274d-46da-9b55-242e775031e1.png","selected":false,"mutexType":null,"fileSize":null,"bucket":"lavic","ossSig":"a790c55c-274d-46da-9b55-242e775031e1.png"},"pakUrl":null,"audit":null,"isDel":false,"dimModelUrls":[{"url":"空战红方战机（模拟器）（超视距空战想定）/4318cd45-e86e-4e96-b02b-b916cc94d530.glb","selected":true,"mutexType":null,"fileSize":null,"bucket":"lavic","ossSig":"4318cd45-e86e-4e96-b02b-b916cc94d530.glb"}]}}]